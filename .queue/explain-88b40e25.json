{"id": "explain-88b40e25", "message": "Please explain this Markdown document file in simple, easy-to-understand terms for someone who may not have technical skills.\n\n**File:** .claude/commands/reviewtask.md\n\n**Content:**\n```\n---\ndescription: Review and improve TASK.md structure and syntax before running explain\n---\n\n# Review Task - Task File Enhancement\n\n## Purpose\n\nTransform raw task definitions into professional, LLM-ready task specifications.\nThis command refines structure and clarity, optionally adding codebase context.\n\n## Mode Selection\n\nCheck `$ARGUMENTS` for mode:\n- Empty or \"quick\" \u2192 **Quick Mode** (default)\n- \"thorough\" \u2192 **Thorough Mode** (with codebase analysis)\n\n**Quick Mode (Default):** Structure and clarity improvements only\n**Thorough Mode:** Adds codebase context gathering (use when task involves existing code)\n\n---\n\n## Process\n\n### Phase 1: Read Current Task\n\nRead `.claude/TASK.md` and extract:\n- Raw user input or voice transcription\n- Existing sections (if any)\n- Referenced files, components, or features\n\n### Phase 2: Structure Validation\n\nCheck and ensure these sections exist:\n\n1. **Overview** - Brief description (transform voice to written)\n2. **User Story** - Clear As a/I want/So that format\n3. **Requirements** - Specific, actionable checkbox items\n4. **Acceptance Criteria** - Testable checkbox items\n5. **Technical Notes** - Optional implementation hints\n\n### Phase 3: Clarity Enhancement\n\n- Convert conversational language to professional technical writing\n- Expand abbreviations and clarify jargon\n- Add specificity where requirements are vague\n- Remove redundancy\n\n### Phase 4: Codebase Context (Thorough Mode Only)\n\n**Only execute if `$ARGUMENTS` = \"thorough\"**\n\n1. Spawn Explore sub-agent to find relevant context:\n   ```\n   Task(subagent_type=\"Explore\", model=\"haiku\", prompt=\"\n   Find codebase context for: [task summary from TASK.md]\n   Look for:\n   1. Files related to the task domain\n   2. Similar existing implementations\n   3. Integration points\n   4. Relevant patterns\n   Return: file paths with relevance descriptions\n   \")\n   ```\n\n2. Add **Context References** section to output with:\n   - Relevant files and why they matter\n   - Patterns to follow from existing code\n   - Integration points where changes connect\n\n3. Read `.claude/STACK.md` if it exists and add **Validation Approach** section with:\n   - Type check command from stack\n   - Test command from stack\n   - Lint command from stack\n\n### Phase 5: Write Enhanced Task\n\nSave improved TASK.md preserving:\n- User's original intent\n- Any manually added notes\n- Existing checkbox states (if partially complete)\n\n---\n\n## Output Format\n\nEnhanced TASK.md should follow this structure:\n\n```markdown\n# TASK.md - [Descriptive Title]\n\n## Overview\n\n[One paragraph summary of the task]\n\n## User Story\n\nAs a [user type]\nI want to [action/goal]\nSo that [benefit/value]\n\n## Requirements\n\n- [ ] [Specific requirement 1]\n- [ ] [Specific requirement 2]\n- [ ] [Additional requirements...]\n\n## Acceptance Criteria\n\n- [ ] [Testable criterion 1]\n- [ ] [Testable criterion 2]\n- [ ] [Additional criteria...]\n\n## Context References (thorough mode only)\n\n**Relevant Files:**\n- `path/to/file.ext` - [why relevant]\n\n**Patterns to Follow:**\n- [Pattern observed in codebase]\n\n**Integration Points:**\n- [Where changes connect to existing code]\n\n## Validation Approach (if STACK.md exists)\n\nBased on detected stack:\n- Type check: [command]\n- Tests: [command]\n- Lint: [command]\n\n## Technical Notes (Optional)\n\n[Implementation hints, constraints, references]\n```\n\n---\n\n## Summary Output\n\nAfter processing, display:\n- Changes made to structure\n- Clarity improvements applied\n- Context added (if thorough mode)\n- Suggestions for user to review\n\n---\n\n## Important Notes\n\n- Do NOT run /explain after - let user verify first\n- Do NOT perform implementation planning (use /plan-feature for that)\n- Preserve user intent even when clarifying language\n- Use `/reviewtask thorough` for codebase context mode\n- Default \"quick\" mode maintains backwards compatibility\n\n```\n\nPlease provide:\n1. **What This File Does** - A simple one-paragraph summary\n2. **Key Components** - Break down the main parts/sections in plain language\n3. **How It Works** - Explain the flow or logic simply\n4. **Important Things to Know** - Any key details a non-technical person should understand\n\nUse simple analogies where helpful. Avoid jargon or explain technical terms when you must use them.\n\nIMPORTANT: Respond ONLY with the explanation. Do not use any tools, do not read any files, do not make any changes. Just explain the content provided above.", "model": "sonnet", "project": "explain-relay", "status": "completed", "images": [], "files": [], "created": 1771113887.7356925, "job_type": "explain", "activity": "Thinking...", "started_at": 1771113974.8403282}